<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

</body>
<script>
    /*能得到一个promise对象的方式
        1. new Promise(exec)
            当前创建出来的promise实例的状态与exec函数紧密相关
                exec报错 --> 失败状态的promise
                exec的第一个参数被调用 --> 成功状态的promise
                exec的第二个参数被调用 --> 失败状态的promise

        2. promise.md.then(fn1,fn2)
            then方法也返回一个promise对象
                看fn1 或者 fn2的返回值
                    值 --> 成功状态的promise
                    出错 --> 失败状态的promise
                    返回一个Promise --> 与返回的Promise状态保持一致

        3. async函数的执行结果也是一个promise
             当前这个promise的状态和async函数的执行结果有关
                值 --> 成功状态的promise
                出错 --> 失败状态的promise
                返回一个Promise --> 与返回的Promise状态保持一致
        */



   /* async function test() {
        await new Promise((resolve, reject)=>{
            setTimeout(()=>{
                console.log(1);
                resolve()
            },1000)
        }),
        await new Promise((resolve, reject)=>{
            setTimeout(()=>{
                console.log(2);
                resolve()
            },1000)
        }),
        console.log("---")
    }
    test()*/

    new Promise((resolve, reject)=>{
        setTimeout(()=>{
            console.log(1);
            resolve()
        },1000)
    }).then(()=>{
        return new Promise((resolve, reject)=>{
            setTimeout(()=>{
                console.log(2);
                resolve()
            },1000)
        })
    }).then(()=>{
        console.log("---")
    })

</script>
</html>